<main
  class="flex flex-col justify-center items-center min-h-screen p-4 md:p-8 lg:p-12 mb-[100px] md:mb-[120px] lg:mb-[150px]"
>
  @if (combinedData$ | async; as data) {

  <!-- User Details -->
  <p-card
    [style]="{ overflow: 'hidden' }"
    class="w-full h-full lg:w-3/4 xl:w-2/3 border-none shadow-none bg-zinc-100 dark:bg-zinc-900/50"
  >
    <div class="flex flex-col items-center space-x-0">
      <!-- Avatar -->
      <div class="flex flex-col items-center space-y-4">
        <p-avatar
          [image]="data.user.avatar_url"
          [style]="{ width: '10rem', height: '10rem' }"
          class="border-4 border-primary-500/20"
          shape="circle"
        />

        <!-- Aliases -->
        <app-user-aliases [name]="data.user.name" [login]="data.user.login" />

        <!-- Bio -->
        @if (data.user.bio) {
        <app-user-bio [bio]="data.user.bio" />
        }

        <!-- Socials -->
        <app-user-socials [socials]="data.socials" />
      </div>

      <div class="flex-1 w-full mt-8">
        <!-- Stats -->
        <app-user-stats [stats]="data.userStats" />

        <p-divider class="my-6"></p-divider>

        <!-- Repositories -->
        <app-repo-list [repos]="data.repos" />

        <!-- View All Repositories Button -->
        @if (data.repos.length > 0) {
        <div class="w-full flex justify-center mt-6">
          <p-button
            label="View More Repos"
            [routerLink]="'/user/' + data.user.login + '/repos'"
          />
        </div>
        }
      </div>
    </div>
  </p-card>

  } @else if (isError()) {

  <app-error-message
    message="Could not find the user or an issue occurred. Please check the username
      and try again."
  />
  } @else if (isLoading()) {

  <app-loader label="Loading user data..." />
  }
</main>
